<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>New Post - GISUGO</title>
  <!-- UNIFORM HEADER SYSTEM -->
  <link rel="stylesheet" href="public/css/header-uniform.css?v=2.1">
  <link rel="stylesheet" href="public/css/new-post.css?v=42">
  <link rel="stylesheet" href="public/css/jobpage.css">
  
</head>
<body class="page-post">
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var overlay = document.getElementById('jobPostedOverlay');
    if (overlay) {
      overlay.style.display = 'none';
      overlay.classList.remove('show');
      overlay.removeAttribute('style');
    }
  });
</script>
  

  <!-- UNIFORM HEADER SYSTEM -->
  <div class="uniform-header">
    <div class="uniform-header-title-container">
      <button class="uniform-header-btn back" aria-label="Back">
        <img src="public/icons/back.png" alt="Back">
        <span>Back</span>
      </button>
      <div class="uniform-header-title"></div>
      <button class="uniform-header-btn menu" id="uniformMenuBtn" aria-label="Menu">
        <img src="public/icons/menu.png" alt="Menu">
        <div>Menu</div>
      </button> 
    </div>
    <div class="uniform-header-borderline"></div>
  </div>

  <!-- UNIFORM MENU OVERLAY -->
  <div class="uniform-menu-overlay" id="uniformMenuOverlay">
    <div class="uniform-menu-items">
      <!-- Menu items dynamically generated by shared-menu.js -->
    </div>
  </div>
  
  <!-- Job Category Header - Exact structure from hatod.html -->
  <div class="new-post-category-header">
    <div class="new-post-listheader">
      <div class="new-post-servicemenu" id="newPostServiceMenuBtn">
        <div class="new-post-servicename">
          <div id="selectedCategoryName">Select Job Type</div>
          <div>&#9660;</div>
        </div>
      </div>
      <div class="new-post-servicemenu-overlay" id="newPostServiceMenuOverlay">
        <ul>
          <!-- BASIC HELPER -->
          <li><a href="#" data-value="hatod">Hatod Jobs</a></li>
          <li><a href="#" data-value="hakot">Hakot Jobs</a></li>
          <li><a href="#" data-value="kompra">Kompra Jobs</a></li>
          <li><a href="#" data-value="luto">Luto Jobs</a></li>
          <li><a href="#" data-value="hugas">Hugas Jobs</a></li>
          <li><a href="#" data-value="laba">Laba Jobs</a></li>
          <li><a href="#" data-value="limpyo">Limpyo Jobs</a></li>
          <li><a href="#" data-value="tindera">Tindera Jobs</a></li>
          <li><a href="#" data-value="bantay">Bantay Jobs</a></li>
          <li><a href="#" data-value="trainer">Trainer Jobs</a></li>
          <li><a href="#" data-value="staff">Staff Jobs</a></li>
          <li><a href="#" data-value="reception">Reception Jobs</a></li>
          <!-- SKILLED WORKER -->
          <li><a href="#" data-value="driver">Driver Jobs</a></li>
          <li><a href="#" data-value="security">Security Jobs</a></li>
          <li><a href="#" data-value="plumber">Plumber Jobs</a></li>
          <li><a href="#" data-value="builder">Builder Jobs</a></li>
          <li><a href="#" data-value="painter">Painter Jobs</a></li>
          <li><a href="#" data-value="carpenter">Carpenter Jobs</a></li>
          <li><a href="#" data-value="creative">Creative Jobs</a></li>
          <li><a href="#" data-value="editor">Editor Jobs</a></li>
          <li><a href="#" data-value="artist">Artist Jobs</a></li>
          <li><a href="#" data-value="petcare">Pet Care Jobs</a></li>
          <li><a href="#" data-value="researcher">Researcher Jobs</a></li>
          <li><a href="#" data-value="social">Social Jobs</a></li>
          <li><a href="#" data-value="photographer">Photographer Jobs</a></li>
          <li><a href="#" data-value="videographer">Videographer Jobs</a></li>
          <li><a href="#" data-value="musician">Musician Jobs</a></li>
          <li><a href="#" data-value="secretary">Secretary Jobs</a></li>
          <li><a href="#" data-value="tutor">Tutor Jobs</a></li>
          <li><a href="#" data-value="clerical">Clerical Jobs</a></li>
          <!-- PROFESSIONAL -->
          <li><a href="#" data-value="nurse">Nurse Jobs</a></li>
          <li><a href="#" data-value="doctor">Doctor Jobs</a></li>
          <li><a href="#" data-value="lawyer">Lawyer Jobs</a></li>
          <li><a href="#" data-value="mechanic">Mechanic Jobs</a></li>
          <li><a href="#" data-value="electrician">Electrician Jobs</a></li>
          <li><a href="#" data-value="tailor">Tailor Jobs</a></li>
          <li><a href="#" data-value="consultant">Consultant Jobs</a></li>
          <li><a href="#" data-value="engineer">Engineer Jobs</a></li>
          <li><a href="#" data-value="programmer">Programmer Jobs</a></li>
          <li><a href="#" data-value="therapist">Therapist Jobs</a></li>
          <li><a href="#" data-value="marketer">Marketer Jobs</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- Location Selection Header -->
  <div class="new-post-sort-header">
    <div class="new-post-sortmenus">
      <div class="new-post-region-menu-wrapper">
        <div class="new-post-sort-menu new-post-region-menu" id="newPostLocationRegion">
          <div id="newPostRegionMenuLabel">CEBU</div>
          <div>&#9660;</div>
        </div>
        <div class="new-post-region-menu-overlay" id="newPostRegionMenuOverlay">
          <ul class="new-post-region-menu-list" id="newPostRegionMenuList">
            <!-- Region items will be rendered here by JS -->
          </ul>
        </div>
      </div>
      <div class="new-post-city-menu-wrapper">
        <div class="new-post-sort-menu new-post-city-menu" id="newPostLocationCity">
          <div id="newPostCityMenuLabel">City/Town</div>
          <div>&#9660;</div>
        </div>
        <div class="new-post-city-menu-overlay" id="newPostCityMenuOverlay">
          <ul class="new-post-city-menu-list" id="newPostCityMenuList">
            <!-- City items will be rendered here by JS -->
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Dynamic Extras Row - Changes based on selected job category -->
  <div class="new-post-extras-header" id="newPostExtrasHeader" style="display: none;">
    <div class="new-post-extras-container">
      <div class="new-post-extras-item" id="newPostExtrasItem1">
        <div class="new-post-extras-label" id="newPostExtrasLabel1">LOCATION:</div>
        <div class="new-post-extras-menu-wrapper">
          <div class="new-post-extras-menu" id="newPostExtrasMenu1">
            <div id="newPostExtrasMenuLabel1">Select Option</div>
            <div>&#9660;</div>
          </div>
          <div class="new-post-extras-menu-overlay" id="newPostExtrasMenuOverlay1">
            <ul class="new-post-extras-menu-list" id="newPostExtrasMenuList1">
              <!-- Options will be rendered here by JS -->
            </ul>
          </div>
        </div>
      </div>
      <div class="new-post-extras-item" id="newPostExtrasItem2">
        <div class="new-post-extras-label" id="newPostExtrasLabel2">SUPPLIES:</div>
        <div class="new-post-extras-menu-wrapper">
          <div class="new-post-extras-menu" id="newPostExtrasMenu2">
            <div id="newPostExtrasMenuLabel2">Select Option</div>
            <div>&#9660;</div>
          </div>
          <div class="new-post-extras-menu-overlay" id="newPostExtrasMenuOverlay2">
            <ul class="new-post-extras-menu-list" id="newPostExtrasMenuList2">
              <!-- Options will be rendered here by JS -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Job Details Input Section -->
  <div class="new-post-job-details-section">
    <div class="new-post-job-details-container">
      <!-- Job Title -->
      <div class="new-post-job-detail-item job-title-item">
        <label class="new-post-job-detail-label">Job Title:</label>
        <div class="new-post-job-title-wrapper">
          <input type="text" class="new-post-job-detail-input job-title-input" id="jobTitleInput" placeholder="Enter job title" maxlength="55" enterkeyhint="done" autocomplete="off" spellcheck="false">
                      <div class="new-post-character-counter" id="jobTitleCounter">55</div>
        </div>
      </div>
      
      <!-- Job Date -->
      <div class="new-post-job-detail-item job-date-item">
        <label class="new-post-job-detail-label">Job Date:</label>
        <input type="date" class="new-post-job-detail-input job-date-input" id="jobDateInput">
      </div>
      
      <!-- Time Start and End with Photo Upload -->  
      <div class="new-post-job-detail-item job-time-item"> 
        <div class="new-post-time-row">
          <div class="new-post-time-controls">
            <div class="new-post-time-group">
              <label class="new-post-job-detail-label">Job Start:</label>
              <div class="new-post-time-input-wrapper">
                <div class="new-post-time-menu-wrapper">
                  <div class="new-post-job-detail-input job-time-input" id="jobTimeStartInput">
                    <div id="jobTimeStartLabel">Hour</div>
                    <div>&#9660;</div>
                  </div>
                  <div class="new-post-time-menu-overlay" id="jobTimeStartOverlay">
                    <ul class="new-post-time-menu-list" id="jobTimeStartList">
                      <li data-value="1">1</li>
                      <li data-value="2">2</li>
                      <li data-value="3">3</li>
                      <li data-value="4">4</li>
                      <li data-value="5">5</li>
                      <li data-value="6">6</li>
                      <li data-value="7">7</li>
                      <li data-value="8">8</li>
                      <li data-value="9">9</li>
                      <li data-value="10">10</li>
                      <li data-value="11">11</li>
                      <li data-value="12">12</li>
                    </ul>
                  </div>
                </div>
                <div class="new-post-time-period-wrapper">
                  <div class="new-post-time-period" id="jobTimeStartPeriod">
                    <div id="jobTimeStartPeriodLabel">AM</div>
                    <div>&#9660;</div>
                  </div>
                  <div class="new-post-time-period-overlay" id="jobTimeStartPeriodOverlay">
                    <ul class="new-post-time-period-list" id="jobTimeStartPeriodList">
                      <li data-value="AM">AM</li>
                      <li data-value="PM">PM</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="new-post-time-group">
              <label class="new-post-job-detail-label">Job End:</label>
              <div class="new-post-time-input-wrapper">
                <div class="new-post-time-menu-wrapper">
                  <div class="new-post-job-detail-input job-time-input" id="jobTimeEndInput">
                    <div id="jobTimeEndLabel">Hour</div>
                    <div>&#9660;</div>
                  </div>
                  <div class="new-post-time-menu-overlay" id="jobTimeEndOverlay">
                    <ul class="new-post-time-menu-list" id="jobTimeEndList">
                      <li data-value="1">1</li>
                      <li data-value="2">2</li>
                      <li data-value="3">3</li>
                      <li data-value="4">4</li>
                      <li data-value="5">5</li>
                      <li data-value="6">6</li>
                      <li data-value="7">7</li>
                      <li data-value="8">8</li>
                      <li data-value="9">9</li>
                      <li data-value="10">10</li>
                      <li data-value="11">11</li>
                      <li data-value="12">12</li>
                    </ul>
                  </div>
                </div>
                <div class="new-post-time-period-wrapper">
                  <div class="new-post-time-period" id="jobTimeEndPeriod">
                    <div id="jobTimeEndPeriodLabel">PM</div>
                    <div>&#9660;</div>
                  </div>
                  <div class="new-post-time-period-overlay" id="jobTimeEndPeriodOverlay">
                    <ul class="new-post-time-period-list" id="jobTimeEndPeriodList">
                      <li data-value="AM">AM</li>
                      <li data-value="PM">PM</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Photo Upload Section -->
          <div class="new-post-photo-upload-section">
            <input type="file" id="jobPhotoInput" accept="image/*" style="display: none;">
            
            <!-- Upload State -->
            <div class="new-post-photo-upload-area" id="photoUploadArea">
              <img src="public/icons/upload.png" alt="Upload" class="new-post-upload-icon">
              <div class="new-post-upload-text">UPLOAD</div>
            </div>
            
            <!-- Preview State (Initially Hidden) -->
            <div class="new-post-photo-preview-area" id="photoPreviewArea" style="display: none;">
              <div class="new-post-photo-preview">
                <img id="photoPreviewImage" src="" alt="Preview" class="new-post-preview-image">
              </div>
              <button class="new-post-photo-change-btn" id="photoChangeBtn">CHANGE</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Details Description Section -->
  <div class="new-post-details-section">
    <div class="new-post-details-header">
      Details
    </div>
    <div class="new-post-details-text-container">
      <textarea class="new-post-details-textarea" id="jobDetailsTextarea" placeholder="Enter job description and details..." autocomplete="off" spellcheck="false"></textarea>
    </div>
  </div>
  
  <!-- Payment Offer Section -->
  <div class="new-post-payment-section">
    <div class="new-post-payment-container">
      <div class="new-post-payment-header">PAYMENT OFFER:</div>
      <div class="new-post-payment-controls">
        <div class="new-post-payment-type-wrapper">
          <div class="new-post-payment-type-menu" id="paymentTypeMenu">
            <div id="paymentTypeLabel">Per Job</div>
            <div>&#9660;</div>
          </div>
          <div class="new-post-payment-type-overlay" id="paymentTypeOverlay">
            <ul class="new-post-payment-type-list" id="paymentTypeList">
              <li data-value="Per Hour">Per Hour</li>
              <li data-value="Per Job">Per Job</li>
            </ul>
          </div>
        </div>
        <div class="new-post-payment-amount-wrapper">
          <div class="new-post-payment-peso">₱</div>
          <input type="number" class="new-post-payment-amount-input" id="paymentAmountInput" placeholder="0" min="0" max="9999" step="1" enterkeyhint="done" autocomplete="off">
        </div>
      </div>
    </div>
  </div>
  
  <!-- Post Job Button Section -->
  <div class="new-post-submit-section">
    <button class="new-post-submit-btn" id="postJobBtn">
      <span>PREVIEW POST</span>
    </button>
  </div>
  
  <!-- Spacer div to create scrollable height for fixed positioned elements -->
  <div class="new-post-spacer" id="newPostSpacer"></div>
  
  <!-- Preview Overlay -->
  <div class="new-post-preview-overlay" id="previewOverlay" style="display: none;">
    <div class="new-post-preview-container">
      <div class="new-post-preview-header">
        <div class="new-post-preview-title">Job Preview</div>
        <button class="new-post-preview-close" id="previewCloseBtn">×</button>
      </div>
      
      <div class="new-post-preview-content">
        <!-- Job Category and Location Header -->
        <div class="new-post-preview-header-info">
          <div class="new-post-preview-category" id="previewCategory">Job Type</div>
          <div class="new-post-preview-location" id="previewLocation">Location</div>
          <div class="new-post-preview-job-title" id="previewJobTitle">Job Title</div>
        </div>
        
        <!-- Job Photo Section -->
        <div class="new-post-preview-photo-section" id="previewPhotoSection" style="display: none;">
          <div class="new-post-preview-photo-borderline-top"></div>
          <div class="new-post-preview-photo-container">
            <img id="previewPhoto" src="" alt="Job Photo" class="new-post-preview-photo">
          </div>
          <div class="new-post-preview-photo-borderline"></div>
        </div>
        
        <!-- Job Info Section - Matching exact job page structure -->
        <div class="new-post-preview-job-info-section" id="previewJobInfoSection">
          <!-- Standard Fields Row - Date and Time -->
          <div class="new-post-preview-job-info-row" data-row-type="standard">
            <div class="new-post-preview-job-info-item" data-field="date">
              <div class="new-post-preview-job-info-label">DATE:</div>
              <div class="new-post-preview-job-info-box">
                <div class="new-post-preview-job-info-value" id="previewDate">Date Not Selected</div>
              </div>
            </div>
            <div class="new-post-preview-job-info-item" data-field="time">
              <div class="new-post-preview-job-info-label">TIME:</div>
              <div class="new-post-preview-job-info-box">
                <div class="new-post-preview-job-info-value" id="previewTime">Time Not Selected</div>
              </div>
            </div>
          </div>
          
          <!-- Extras Row - Category-specific fields -->
          <div class="new-post-preview-job-info-row" data-row-type="extras" id="previewExtrasRow" style="display: none;">
            <div class="new-post-preview-job-info-item" data-extra="field1">
              <div class="new-post-preview-job-info-label" id="previewExtrasLabel1">FIELD 1:</div>
              <div class="new-post-preview-job-info-box">
                <div class="new-post-preview-job-info-value" id="previewExtrasValue1">Value 1</div>
              </div>
            </div>
            <div class="new-post-preview-job-info-item" data-extra="field2">
              <div class="new-post-preview-job-info-label" id="previewExtrasLabel2">FIELD 2:</div>
              <div class="new-post-preview-job-info-box">
                <div class="new-post-preview-job-info-value" id="previewExtrasValue2">Value 2</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Job Details Section -->
        <div class="new-post-preview-job-details-section" id="previewJobDetailsSection">
          <div class="new-post-preview-job-details-header">DETAILS:</div>
          <div class="new-post-preview-job-details-text-container">
            <div class="new-post-preview-job-details-text" id="previewDescription">No description provided</div>
          </div>
        </div>
        
        <!-- Job Payment Section -->
        <div class="new-post-preview-job-payment-section" id="previewJobPaymentSection">
          <div class="new-post-preview-job-payment-row">
            <div class="new-post-preview-job-payment-item" data-payment-type="offer">
              <div class="new-post-preview-job-payment-box">
                <div class="new-post-preview-job-payment-value" id="previewPaymentAmount">₱0</div>
              </div>
            </div>
            <div class="new-post-preview-job-payment-item" data-payment-type="rate">
              <div class="new-post-preview-job-payment-box">
                <div class="new-post-preview-job-payment-value" id="previewPaymentRate">Per Job</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="new-post-preview-actions">
        <button class="new-post-preview-btn edit" id="previewEditBtn">EDIT</button>
        <button class="new-post-preview-btn post" id="previewPostBtn">POST JOB</button>
      </div>
    </div>
  </div>
  
  <!-- Job Posted Successfully Overlay -->
  <div class="job-posted-overlay" id="jobPostedOverlay" style="display: none;">
    <div class="job-posted-modal">
      <div class="job-posted-title">✅ Job Posted Successfully!</div>
      <div class="job-posted-subtitle" id="jobPostedLocation">Your job is now live and visible to workers in Cebu City.</div>
      
      <div class="job-posted-content">
        <div class="job-posted-section">
          <div class="job-posted-section-title">
            🔄 What happens next:
          </div>
          <div class="job-posted-section-text">
            Wait for workers to submit applications.<br><br>
            You can review applications in MESSAGES.<br><br>
            Your phone number will be shared ONLY with the Worker you choose to hire.
          </div>
        </div>
        
        <div class="job-posted-section">
          <div class="job-posted-section-title">
            🔒 Privacy Protection:
          </div>
          <div class="job-posted-section-text">
            No applicant can see your phone number or call you unless you hire them.
          </div>
        </div>
        
        <div class="job-posted-section">
          <div class="job-posted-section-title">
            ⚠️ Disclaimer:
          </div>
          <div class="job-posted-section-text">
            GISUGO will not be held responsible for your job outcome and does not get involved in job disputes. Exercise caution and prioritize your safety when meeting workers. GISUGO will not be held responsible for your job outcome and does not get involved in job disputes. Exercise caution and prioritize your safety when meeting workers. GISUGO will not be held responsible for your job outcome and does not get involved in job disputes. Exercise caution and prioritize your safety when meeting workers.
          </div>
        </div>
        
        <div class="job-posted-section">
          <div class="job-posted-section-title">
            💡 Tip:
          </div>
          <div class="job-posted-section-text">
            Most quality applications arrive within 24-48 hours.
          </div>
        </div>
      </div>
      
      <div class="job-posted-actions">
        <button class="job-posted-btn primary" id="goToMessagesBtn">Go to Messages</button>
        <button class="job-posted-btn" id="viewJobPostBtn">View My Job Post</button>
        <button class="job-posted-btn" id="jobPostedGotItBtn">Got It</button>
      </div>
    </div>
  </div>
  
  <!-- DEBUG PANEL - Shows when ?debug=true in URL -->
  <div id="debugPanel" style="display: none; position: fixed; bottom: 0; left: 0; width: 100%; background: #1a202c; color: white; padding: 15px; border-top: 3px solid #e53e3e; z-index: 999999; max-height: 200px; overflow-y: auto;">
    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
      <button onclick="testMobileOverlay()" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">TEST OVERLAY</button>
      <button onclick="checkLocalStorage()" style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">CHECK STORAGE</button>
      <button onclick="addTestJob()" style="background: #f59e0b; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">ADD TEST JOB</button>
      <button onclick="hideDebugPanel()" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">HIDE</button>
    </div>
    <div id="debugOutput" style="font-family: monospace; font-size: 12px; background: #2d3748; padding: 10px; border-radius: 4px; white-space: pre-wrap; max-height: 100px; overflow-y: auto;">Ready for testing...</div>
  </div>

  <script src="public/js/shared-menu.js"></script>
  <script src="public/js/jobs.js?v=14"></script>
  <script src="public/js/new-post.js?v=33"></script>
  
  <script>
    // Debug functions to test overlay and localStorage
    function testMobileOverlay() {
      const output = document.getElementById('debugOutput');
      const overlay = document.getElementById('jobPostedOverlay');
      
      output.textContent = 'Testing overlay on mobile...\n';
      
      if (!overlay) {
        output.textContent += 'ERROR: Overlay not found!\n';
        return;
      }
      
      // Force show with aggressive mobile-friendly styles
      overlay.style.display = 'flex';
      overlay.style.visibility = 'visible';
      overlay.style.opacity = '1';
      overlay.style.zIndex = '999999';
      overlay.style.position = 'fixed';
      overlay.style.top = '0';
      overlay.style.left = '0';
      overlay.style.width = '100vw';
      overlay.style.height = '100vh';
      overlay.style.background = 'rgba(0, 0, 0, 0.9)';
      overlay.classList.add('show');
      
      const modal = overlay.querySelector('.job-posted-modal');
      if (modal) {
        modal.style.zIndex = '1000000';
        modal.style.position = 'relative';
      }
      
      const computed = window.getComputedStyle(overlay);
      output.textContent += `Display: ${computed.display}\n`;
      output.textContent += `Z-index: ${computed.zIndex}\n`;
      output.textContent += `Position: ${computed.position}\n`;
      output.textContent += 'OVERLAY FORCED TO SHOW - Check if visible on screen!\n';
      
      // Auto-hide after 5 seconds
      setTimeout(() => {
        overlay.style.display = 'none';
        overlay.classList.remove('show');
        output.textContent += 'Auto-hidden after 5 seconds\n';
      }, 5000);
    }
    
    function checkLocalStorage() {
      const output = document.getElementById('debugOutput');
      
      try {
        const allJobs = localStorage.getItem('gisugoJobs');
        output.textContent = 'localStorage Check:\n';
        output.textContent += allJobs ? `Found: ${allJobs.length} chars\n` : 'No gisugoJobs data\n';
        
        if (allJobs) {
          const parsed = JSON.parse(allJobs);
          Object.keys(parsed).forEach(category => {
            output.textContent += `${category}: ${(parsed[category]?.length || 0)} jobs\n`;
          });
        }
      } catch (error) {
        output.textContent = `Error: ${error.message}\n`;
      }
    }
    
    function addTestJob() {
      const output = document.getElementById('debugOutput');
      
      try {
        const testJob = {
          jobId: 'debug_test_' + Date.now(),
          jobNumber: 999,
          posterId: 'user_peter_ang_001',  // Fixed: Must match CURRENT_USER_ID in jobs.js
          posterName: 'Peter J. Ang',
          title: 'DEBUG TEST JOB - Should appear in jobs.html',
          description: 'Test job description for debugging visibility',
          category: 'limpyo',
          thumbnail: 'public/mock/mock-limpyo-post1.jpg',
          jobDate: '2024-01-25',
          dateNeeded: '2024-01-25',  // Backend field name
          startTime: '10AM',
          endTime: '2PM',
          priceOffer: '999',  // Remove ₱ symbol for form population
          paymentAmount: '999',  // Backend field name
          paymentType: 'total',
          region: 'Metro Manila',
          city: 'Cebu City',
          extras: ['Test Extra 1', 'Test Extra 2'],
          status: 'active',
          datePosted: new Date().toISOString(),
          applicationCount: 0,
          applicationIds: [],
          jobPageUrl: 'limpyo.html',
          updatedAt: new Date().toISOString()
        };
        
        const allJobs = JSON.parse(localStorage.getItem('gisugoJobs') || '{}');
        if (!allJobs.limpyo) allJobs.limpyo = [];
        allJobs.limpyo.push(testJob);
        
        localStorage.setItem('gisugoJobs', JSON.stringify(allJobs));
        
        output.textContent = `Test job added with ALL REQUIRED FIELDS!\nID: ${testJob.jobId}\nTitle: ${testJob.title}\nCategory: ${testJob.category}\nTotal limpyo jobs: ${allJobs.limpyo.length}\n\nNow go to jobs.html?refresh=true to see it\n`;
        
      } catch (error) {
        output.textContent = `Error: ${error.message}\n`;
      }
    }
    
    function hideDebugPanel() {
      document.getElementById('debugPanel').style.display = 'none';
    }
    
    // Show debug panel if ?debug=true in URL
    if (window.location.search.includes('debug=true')) {
      document.getElementById('debugPanel').style.display = 'block';
    }
  </script>
<!-- Hour Picker Modal Overlay -->
<div id="hourPickerOverlay" class="hour-picker-overlay" style="display: none;">
  <div class="hour-picker-modal">
    <button class="hour-picker-close" id="hourPickerCloseBtn">×</button>
    <div class="hour-picker-title">Select Hour</div>
    <div class="hour-picker-list">
      <button class="hour-picker-item" data-value="1">1</button>
      <button class="hour-picker-item" data-value="2">2</button>
      <button class="hour-picker-item" data-value="3">3</button>
      <button class="hour-picker-item" data-value="4">4</button>
      <button class="hour-picker-item" data-value="5">5</button>
      <button class="hour-picker-item" data-value="6">6</button>
      <button class="hour-picker-item" data-value="7">7</button>
      <button class="hour-picker-item" data-value="8">8</button>
      <button class="hour-picker-item" data-value="9">9</button>
      <button class="hour-picker-item" data-value="10">10</button>
      <button class="hour-picker-item" data-value="11">11</button>
      <button class="hour-picker-item" data-value="12">12</button>
    </div>
  </div>
</div>
<!-- Hour Picker Modal Overlay for Job End -->
<div id="hourPickerOverlayEnd" class="hour-picker-overlay" style="display: none;">
  <div class="hour-picker-modal">
    <button class="hour-picker-close" id="hourPickerCloseBtnEnd">×</button>
    <div class="hour-picker-title">Select Hour</div>
    <div class="hour-picker-list">
      <button class="hour-picker-item" data-value="1">1</button>
      <button class="hour-picker-item" data-value="2">2</button>
      <button class="hour-picker-item" data-value="3">3</button>
      <button class="hour-picker-item" data-value="4">4</button>
      <button class="hour-picker-item" data-value="5">5</button>
      <button class="hour-picker-item" data-value="6">6</button>
      <button class="hour-picker-item" data-value="7">7</button>
      <button class="hour-picker-item" data-value="8">8</button>
      <button class="hour-picker-item" data-value="9">9</button>
      <button class="hour-picker-item" data-value="10">10</button>
      <button class="hour-picker-item" data-value="11">11</button>
      <button class="hour-picker-item" data-value="12">12</button>
    </div>
  </div>
</div>
<!-- AM/PM Picker Modal Overlay (shared for both start/end) -->
<div id="ampmPickerOverlay" class="hour-picker-overlay" style="display: none;">
  <div class="hour-picker-modal">
    <button class="hour-picker-close" id="ampmPickerCloseBtn">×</button>
    <div class="hour-picker-title">Select AM/PM</div>
    <div class="ampm-picker-list">
      <button class="ampm-picker-item" data-value="AM">AM</button>
      <button class="ampm-picker-item" data-value="PM">PM</button>
    </div>
  </div>
</div>

<!-- New-Post Region Picker Modal -->
<div class="new-post-region-picker-overlay" id="newPostRegionPickerOverlay">
  <div class="new-post-region-picker-modal">
    <button class="new-post-region-picker-close" id="newPostRegionPickerCloseBtn">&times;</button>
    <div class="new-post-region-picker-title">Select Region</div>
    <div class="new-post-region-picker-list" id="newPostRegionPickerList">
      <!-- Region items will be populated by JavaScript -->
    </div>
  </div>
</div>

<!-- New-Post City Picker Modal -->
<div class="new-post-city-picker-overlay" id="newPostCityPickerOverlay">
  <div class="new-post-city-picker-modal">
    <button class="new-post-city-picker-close" id="newPostCityPickerCloseBtn">&times;</button>
    <div class="new-post-city-picker-title">Select City/Town</div>
    <div class="new-post-city-picker-list" id="newPostCityPickerList">
      <!-- City items will be populated by JavaScript -->
    </div>
  </div>
</div>

<!-- New-Post Payment Type Picker Modal -->
<div class="new-post-payment-picker-overlay" id="newPostPaymentPickerOverlay">
  <div class="new-post-payment-picker-modal">
    <button class="new-post-payment-picker-close" id="newPostPaymentPickerCloseBtn">&times;</button>
    <div class="new-post-payment-picker-title">Select Payment Type</div>
    <div class="new-post-payment-picker-list" id="newPostPaymentPickerList">
      <div class="new-post-payment-picker-item" data-value="Per Job">Per Job</div>
      <div class="new-post-payment-picker-item" data-value="Per Hour">Per Hour</div>
    </div>
  </div>
</div>

<!-- New-Post Extras Picker Modals -->
<div class="new-post-extras-picker-overlay" id="newPostExtrasPickerOverlay1">
  <div class="new-post-extras-picker-modal">
    <button class="new-post-extras-picker-close" id="newPostExtrasPickerCloseBtn1">&times;</button>
    <div class="new-post-extras-picker-title" id="newPostExtrasPickerTitle1">Select Option</div>
    <div class="new-post-extras-picker-list" id="newPostExtrasPickerList1">
      <!-- Options will be populated by JavaScript -->
    </div>
  </div>
</div>

<div class="new-post-extras-picker-overlay" id="newPostExtrasPickerOverlay2">
  <div class="new-post-extras-picker-modal">
    <button class="new-post-extras-picker-close" id="newPostExtrasPickerCloseBtn2">&times;</button>
    <div class="new-post-extras-picker-title" id="newPostExtrasPickerTitle2">Select Option</div>
    <div class="new-post-extras-picker-list" id="newPostExtrasPickerList2">
      <!-- Options will be populated by JavaScript -->
    </div>
  </div>
</div>

  <!-- UNIFORM HEADER SYSTEM -->
  <script src="public/js/header-uniform.js?v=1.0"></script>
  <script src="public/js/shared-menu.js"></script>
  <script src="public/js/new-post.js"></script>

  <!-- VIEWPORT DEBUGGING TOOL -->
  <div id="vp-debug"></div>
  <script>
    function updateViewportWidth() {
      const el = document.getElementById('vp-debug');
      el.textContent = `Viewport: ${window.innerWidth}px`;
    }

    const style = `
      position:fixed;
      bottom:0;
      left:0;
      background:#000;
      color:#fff;
      padding:4px 8px;
      font-size:12px;
      opacity:0.6;
      z-index:9999;
      font-family:monospace;
    `;

    const debugEl = document.getElementById('vp-debug');
    if (debugEl) debugEl.setAttribute('style', style);

    updateViewportWidth();
    window.addEventListener('resize', updateViewportWidth);
  </script>
</body>
</html> 
