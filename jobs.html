<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gigs Management - GISUGO</title>
    <!-- UNIFORM HEADER SYSTEM -->
    <link rel="stylesheet" href="public/css/header-uniform.css?v=2.1">
    <link rel="stylesheet" href="public/css/jobs.css?v=2.8">
</head>
<body class="page-jobs">
    <!-- UNIFORM HEADER SYSTEM -->
    <div class="uniform-header">
        <div class="uniform-header-title-container">
            <button class="uniform-header-btn back" aria-label="Back">
                <img src="public/icons/back.png" alt="Back">
                <span>Back</span>
            </button>
            <div class="uniform-header-title"></div>
            <button class="uniform-header-btn menu" id="uniformMenuBtn" aria-label="Menu">
                <img src="public/icons/menu.png" alt="Menu">
                <div>Menu</div>
            </button>
        </div>
        <div class="uniform-header-borderline"></div>
    </div>

    <!-- UNIFORM MENU OVERLAY -->
    <div class="uniform-menu-overlay" id="uniformMenuOverlay">
        <div class="uniform-menu-items">
            <!-- Menu items dynamically generated by shared-menu.js -->
        </div>
    </div>

    <!-- Role Tab Navigation - New Top Level -->
    <div class="role-tabs">
        <button class="role-tab-btn active" data-role="worker" id="workerRoleTab">
            <span class="role-tab-text">WORKER</span>
        </button>
        <button class="role-tab-btn" data-role="customer" id="customerRoleTab">
            <span class="role-tab-text">CUSTOMER</span>
        </button>
    </div>

    <!-- Customer Tab Navigation -->
    <div class="jobs-tabs customer-tabs" style="display: none;">
        <button class="tab-btn active" data-tab="listings" id="listingsTab">
            <span class="tab-label">LISTINGS</span>
            <span class="notification-count">4</span>
        </button>
        <button class="tab-btn" data-tab="hiring" id="hiringTab">
            <span class="tab-label">HIRING</span>
            <span class="notification-count">0</span>
        </button>
        <button class="tab-btn" data-tab="previous" id="previousTab">
            <span class="tab-label">COMPLETED</span>
            <span class="notification-count">0</span>
        </button>
    </div>

    <!-- Worker Tab Navigation -->
    <div class="jobs-tabs worker-tabs">
        <button class="tab-btn active" data-tab="offered" id="offeredTab">
            <span class="tab-label">GIGS OFFERED</span>
            <span class="notification-count">0</span>
        </button>
        <button class="tab-btn" data-tab="accepted" id="acceptedTab">
            <span class="tab-label">GIGS ACCEPTED</span>
            <span class="notification-count">0</span>
        </button>
        <button class="tab-btn" data-tab="worker-completed" id="workerCompletedTab">
            <span class="tab-label">GIGS COMPLETED</span>
            <span class="notification-count">0</span>
        </button>
    </div>

    <!-- Independent Tab Content Areas -->
    
    <!-- CUSTOMER ROLE CONTENT AREAS -->
    <!-- Listings Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper customer-content" id="listings-content" style="display: none;">
        <div class="tab-scroll-container">
            <div class="listings-container">
                <!-- Listings content will be loaded dynamically when tab is active -->
            </div>
        </div>
    </div>

    <!-- Hiring Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper customer-content" id="hiring-content" style="display: none;">
        <div class="tab-scroll-container">
            <div class="hiring-container">
                <!-- Hiring content will be loaded dynamically when tab is active -->
            </div>
        </div>
    </div>
            
    <!-- Previous Jobs Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper customer-content" id="previous-content" style="display: none;">
        <div class="tab-scroll-container">
            <div class="previous-container">
                <!-- Previous jobs content will be loaded dynamically when tab is active -->
            </div>
        </div>
    </div>

    <!-- WORKER ROLE CONTENT AREAS -->
    <!-- Offered Gigs Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper worker-content active" id="offered-content">
        <div class="tab-scroll-container">
            <div class="offered-container">
                <!-- Offered gigs content will be loaded dynamically when tab is active -->
                <div class="empty-state">
                    <div class="empty-state-icon">🎯</div>
                    <div class="empty-state-title">No Gig Offers Yet</div>
                    <div class="empty-state-message">When customers hire you from your applications, their job offers will appear here waiting for your acceptance before work begins.</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Accepted Gigs Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper worker-content" id="accepted-content" style="display: none;">
        <div class="tab-scroll-container">
            <div class="accepted-container">
                <!-- Accepted gigs content will be loaded dynamically when tab is active -->
                <div class="empty-state">
                    <div class="empty-state-icon">📋</div>
                    <div class="empty-state-title">Gigs Accepted</div>
                    <div class="empty-state-message">Your accepted gigs will appear here</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Worker Completed Gigs Tab Content - Independent Scroll Container -->
    <div class="tab-content-wrapper worker-content" id="worker-completed-content" style="display: none;">
        <div class="tab-scroll-container">
            <div class="worker-completed-container">
                <!-- Worker completed gigs content will be loaded dynamically when tab is active -->
                <div class="empty-state">
                    <div class="empty-state-icon">✅</div>
                    <div class="empty-state-title">Gigs Completed</div>
                    <div class="empty-state-message">Your completed gigs will appear here</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Overlay -->
    <div class="jobs-menu-overlay" id="jobsMenuOverlay">
        <div class="jobs-menu-items">
            <!-- Menu items dynamically generated by shared-menu.js -->
        </div>
    </div>

    <!-- Listing Options Overlay -->
    <div class="listing-options-overlay" id="listingOptionsOverlay">
        <div class="listing-options-container">
            <div class="listing-options-header">
                <div class="listing-options-title" id="listingOptionsTitle">Manage Job</div>
                <div class="listing-options-subtitle" id="listingOptionsSubtitle">Choose an action for this job posting</div>
            </div>
            <div class="listing-options-actions">
                <button class="listing-option-btn applications" id="viewApplicationsBtn">
                    VIEW APPLICATIONS
                </button>
                <button class="listing-option-btn view" id="viewJobBtn">
                    VIEW JOB POST
                </button>
                <button class="listing-option-btn modify" id="modifyJobBtn">
                    MODIFY
                </button>
                <button class="listing-option-btn pause" id="pauseJobBtn">
                    PAUSE
                </button>
                <button class="listing-option-btn delete" id="deleteJobBtn">
                    DELETE
                </button>
                                    <button class="listing-option-btn cancel" id="cancelOptionsBtn">
                        CLOSE
                </button>
            </div>
        </div>
    </div>

    <!-- Hiring Options Overlay -->
    <div class="listing-options-overlay" id="hiringOptionsOverlay">
        <div class="listing-options-container">
            <div class="listing-options-header">
                <div class="listing-options-title" id="hiringOptionsTitle">Manage Hiring</div>
                <div class="listing-options-subtitle" id="hiringOptionsSubtitle">Choose an action for this hired job</div>
            </div>
            <div class="listing-options-actions" id="hiringOptionsActions">
                <!-- Dynamic options based on customer/worker role -->
            </div>
        </div>
    </div>

    <!-- Complete Job Confirmation Overlay -->
    <div class="delete-confirmation-overlay" id="completeJobConfirmationOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-icon">✅</div>
                <div class="delete-confirmation-title">Mark Job as Completed</div>
                <div class="delete-confirmation-subtitle" id="completeJobSubtitle">Please confirm that the job has been completed</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    Before marking this job as completed, please verify:<br>
                    • The work has been completed to your satisfaction<br>
                    • You have paid the worker for their services<br>
                    • Any follow-up arrangements have been made
                </div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="completeJobNoBtn">
                    NO, NOT YET
                </button>
                <button class="delete-confirmation-btn delete" id="completeJobYesBtn">
                    YES, COMPLETED
                </button>
            </div>
        </div>
    </div>

    <!-- Relist Job Confirmation Overlay -->
    <div class="delete-confirmation-overlay" id="relistJobConfirmationOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-title-row">
                    <div class="delete-confirmation-icon">🔄</div>
                    <div class="delete-confirmation-title">Relist Job</div>
                </div>
                <div class="delete-confirmation-subtitle" id="relistJobSubtitle">This will void the contract</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    WARNING: Relisting this job will:<br>
                    • Void the current contract with <span id="relistWorkerName">the worker</span><br>
                    • Remove them from this job<br>
                    • Make the job available for new applications<br>
                    • Move it back to your active listings<br><br>
                    Please make sure you have notified <span id="relistWorkerNameReminder">the worker</span> that you are removing them from this job before proceeding.
                </div>
            </div>
            <div class="reason-input-section">
                <label for="relistReasonInput" class="reason-label">
                    For records, please provide reason why you are firing <span id="relistWorkerNameInput">the worker</span>:
                </label>
                <textarea 
                    id="relistReasonInput" 
                    class="reason-textarea" 
                    placeholder="Enter reason for termination (minimum 2 characters)"
                    maxlength="200"
                    rows="2"></textarea>
                <div class="reason-char-count">
                    <span id="relistCharCount">0</span>/200 characters
                </div>
                <div class="reason-error" id="relistReasonError">Please enter at least 2 characters</div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="relistJobNoBtn">
                    NO, KEEP CONTRACT
                </button>
                <button class="delete-confirmation-btn delete" id="relistJobYesBtn" disabled>
                    YES, VOID & RELIST
                </button>
            </div>
        </div>
    </div>

    <!-- Resign Job Confirmation Overlay -->
    <div class="delete-confirmation-overlay" id="resignJobConfirmationOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-title-row">
                    <div class="delete-confirmation-icon">👋</div>
                    <div class="delete-confirmation-title">Resign from Job</div>
                </div>
                <div class="delete-confirmation-subtitle" id="resignJobSubtitle">This will void your contract</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    WARNING: Resigning from this job will:<br>
                    • Void your contract with <span id="resignCustomerName">the customer</span><br>
                    • Remove you from this job<br>
                    • Make the job available for new applications<br><br>
                    Please ensure you have contacted the customer about quitting before proceeding.
                </div>
            </div>
            <div class="reason-input-section">
                <label for="resignReasonInput" class="reason-label">
                    For records, please provide reason why you are quitting before the job is complete:
                </label>
                <textarea 
                    id="resignReasonInput" 
                    class="reason-textarea" 
                    placeholder="Enter reason for resignation (minimum 2 characters)"
                    maxlength="200"
                    rows="2"></textarea>
                <div class="reason-char-count">
                    <span id="resignCharCount">0</span>/200 characters
                </div>
                <div class="reason-error" id="resignReasonError">Please enter at least 2 characters</div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="resignJobNoBtn">
                    NO, CONTINUE WORKING
                </button>
                <button class="delete-confirmation-btn delete" id="resignJobYesBtn" disabled>
                    YES, RESIGN
                </button>
            </div>
        </div>
    </div>

    <!-- Success Overlays -->
    <div class="success-overlay" id="jobCompletedSuccessOverlay">
        <div class="success-modal">
            <!-- Confetti Animation -->
            <div class="confetti-container">
                <div class="confetti-piece confetti-1"></div>
                <div class="confetti-piece confetti-2"></div>
                <div class="confetti-piece confetti-3"></div>
                <div class="confetti-piece confetti-4"></div>
                <div class="confetti-piece confetti-5"></div>
                <div class="confetti-piece confetti-6"></div>
                <div class="confetti-piece confetti-7"></div>
                <div class="confetti-piece confetti-8"></div>
                <div class="confetti-piece confetti-9"></div>
                <div class="confetti-piece confetti-10"></div>
                <div class="confetti-piece confetti-11"></div>
                <div class="confetti-piece confetti-12"></div>
            </div>
            
            <div class="success-header">
                <div class="success-title-row">
                    <div class="success-title">Congratulations!</div>
                    <div class="success-icon">🎉</div>
                </div>
                <div class="success-subtitle" id="jobCompletedMessage">The job has been marked as completed successfully!</div>
            </div>
            
            <div class="success-feedback-section">
                <div class="feedback-label">Please rate your experience and leave feedback for <span id="completedWorkerName">the worker</span>:</div>
                
                <div class="feedback-rating-section">
                    <label class="feedback-rating-label">Rating:</label>
                    <div class="feedback-stars-container">
                        <div class="feedback-star" data-rating="1">★</div>
                        <div class="feedback-star" data-rating="2">★</div>
                        <div class="feedback-star" data-rating="3">★</div>
                        <div class="feedback-star" data-rating="4">★</div>
                        <div class="feedback-star" data-rating="5">★</div>
                    </div>
                </div>
                
                <div class="feedback-text-section">
                    <label for="completionFeedback" class="feedback-text-label">Feedback (required):</label>
                    <textarea 
                        id="completionFeedback" 
                        class="feedback-textarea" 
                        placeholder="Share your experience working with this person..."
                        maxlength="300"
                        rows="3"></textarea>
                    <div class="feedback-char-count">
                        <span id="feedbackCharCount">0</span>/300 characters
                    </div>
                </div>
            </div>
            
            <div class="success-actions">
                <button class="success-btn" id="jobCompletedOkBtn">SUBMIT</button>
            </div>
        </div>
    </div>

    <div class="success-overlay" id="contractVoidedSuccessOverlay">
        <div class="success-modal">
            <div class="success-icon">✅</div>
            <div class="success-title">Contract Voided</div>
            <div class="success-message" id="contractVoidedMessage">The contract has been voided and the job is now available for new applications.</div>
            <button class="success-btn" id="contractVoidedOkBtn">OK</button>
        </div>
    </div>

    <div class="success-overlay" id="resignationConfirmedOverlay">
        <div class="success-modal resignation-modal">
            <!-- Rain/Tear Animation for Disappointment -->
            <div class="rain-container">
                <div class="rain-drop rain-1"></div>
                <div class="rain-drop rain-2"></div>
                <div class="rain-drop rain-3"></div>
                <div class="rain-drop rain-4"></div>
                <div class="rain-drop rain-5"></div>
                <div class="rain-drop rain-6"></div>
                <div class="rain-drop rain-7"></div>
                <div class="rain-drop rain-8"></div>
                <div class="rain-drop rain-9"></div>
                <div class="rain-drop rain-10"></div>
            </div>
            <div class="success-icon">😞</div>
            <div class="success-title resignation-title">Job Resignation</div>
            <div class="success-message" id="resignationMessage">You have resigned from the job.</div>
            <button class="success-btn resignation-btn" id="resignationOkBtn">UNDERSTOOD</button>
        </div>
    </div>

    <div class="success-overlay" id="contractVoidedNegativeOverlay">
        <div class="success-modal resignation-modal">
            <!-- Rain/Tear Animation for Contract Voiding -->
            <div class="rain-container">
                <div class="rain-drop rain-1"></div>
                <div class="rain-drop rain-2"></div>
                <div class="rain-drop rain-3"></div>
                <div class="rain-drop rain-4"></div>
                <div class="rain-drop rain-5"></div>
                <div class="rain-drop rain-6"></div>
                <div class="rain-drop rain-7"></div>
                <div class="rain-drop rain-8"></div>
                <div class="rain-drop rain-9"></div>
                <div class="rain-drop rain-10"></div>
            </div>
            <div class="success-icon">😔</div>
            <div class="success-title resignation-title">Contract Voided</div>
            <div class="success-message" id="contractVoidedNegativeMessage">The contract has been voided.</div>
            <button class="success-btn resignation-btn" id="contractVoidedNegativeOkBtn">UNDERSTOOD</button>
        </div>
    </div>

    <!-- Delete Confirmation Overlay -->
    <div class="delete-confirmation-overlay" id="deleteConfirmationOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-icon">⚠️</div>
                <div class="delete-confirmation-title">Delete Job Posting</div>
                <div class="delete-confirmation-subtitle" id="deleteConfirmationSubtitle">Are you sure you want to permanently delete this job?</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    This action cannot be undone. The job posting and all related applications will be permanently removed.
                </div>
                <div class="delete-application-count" id="deleteApplicationCount">
                    <!-- Application count warning will be inserted here -->
                </div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="deleteConfirmCancelBtn">
                    CANCEL
                </button>
                <button class="delete-confirmation-btn delete" id="deleteConfirmDeleteBtn">
                    DELETE PERMANENTLY
                </button>
            </div>
        </div>
    </div>

    <!-- Applications Overlay -->
    <div class="applications-overlay" id="applicationsOverlay">
        <div class="applications-container">
            <div class="applications-header">
                <div class="applications-header-text">
                    <div class="applications-title" id="applicationsTitle">Applications</div>
                    <div class="applications-subtitle" id="applicationsSubtitle">Review applications for this job</div>
                </div>
                <button class="applications-close-btn" id="applicationsCloseBtn">×</button>
            </div>
            <div class="applications-scroll-container">
                <div class="applications-list" id="applicationsList">
                    <!-- Applications will be loaded dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Application Action Overlay -->
    <div class="application-action-overlay" id="applicationActionOverlay" data-application-id="" data-user-id="" data-user-name="" data-job-id="" data-job-title="">
        <div class="application-action-modal">
            <div class="application-action-profile">
                <div class="action-profile-name" id="actionProfileName">
                    User Name
                </div>
                <div class="action-profile-photo">
                    <img src="" alt="" id="actionProfileImage">
                </div>
                <div class="action-profile-rating" id="actionProfileRating">
                    <div class="action-stars">
                        <span class="action-star">★</span>
                        <span class="action-star">★</span>
                        <span class="action-star">★</span>
                        <span class="action-star">★</span>
                        <span class="action-star">★</span>
                    </div>
                    <div class="action-review-count" id="actionReviewCount">(0)</div>
                </div>
            </div>
            <div class="profile-contact-buttons">
                <button class="profile-btn" id="profileBtn" data-action="view_profile" data-user-id="" data-user-name="">
                    <span>PROFILE</span>
                </button>
                <button class="contact-btn" id="contactBtn" data-action="contact_user" data-user-id="" data-user-name="">
                    <span>CONTACT</span>
                </button>
            </div>
            <div class="action-divider">OR</div>
            <div class="application-action-buttons">
                <button class="hire-job-btn" id="hireJobBtn" data-action="hire" data-application-id="" data-user-id="" data-user-name="" data-job-id="" data-job-title="">
                    <span>HIRE</span>
                </button>
                <button class="reject-job-btn" id="rejectJobBtn" data-action="reject" data-application-id="" data-user-id="" data-user-name="" data-job-id="" data-job-title="">
                    <span>REJECT</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Contact Message Overlay -->
    <div class="contact-message-overlay" id="contactMessageOverlay" data-user-id="" data-user-name="" data-application-id="">
        <div class="contact-message-modal">
            <div class="contact-message-header">
                <div class="contact-user-info">
                    <div class="contact-user-name" id="contactUserName">Contact User</div>
                    <div class="contact-user-subtitle">Send a message</div>
                </div>
                <button class="contact-close-btn" id="contactCloseBtn">×</button>
            </div>
            <div class="contact-message-content">
                <textarea 
                    class="contact-message-input" 
                    id="contactMessageInput" 
                    placeholder="Write your message. Suggestion: Ask for a phone number so you may call them directly."
                    maxlength="500"
                    rows="6"
                    data-user-id=""
                    data-user-name=""
                    data-application-id=""
                ></textarea>
                <div class="contact-message-actions">
                    <button class="contact-cancel-btn" id="contactCancelBtn">Cancel</button>
                    <button class="contact-send-btn" id="contactSendBtn" data-action="send_contact_message">Send Message</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hire Confirmation Overlay (Enhanced with Legal Disclaimers) -->
    <div id="hireConfirmationOverlay" class="hire-confirmation-overlay">
        <div class="hire-confirmation-container">
            <div class="hire-confirmation-header">
                <div class="hire-confirmation-title-section">
                    <div class="hire-confirmation-icon">⚖️</div>
                    <div class="hire-confirmation-title">Confirm Hiring Decision</div>
                </div>
                <button id="hireConfirmationCloseBtn" class="hire-confirmation-close-btn">&times;</button>
            </div>
            
            <div class="hire-confirmation-content">
                <!-- Worker Status Section -->
                <div class="worker-status-section">
                    <div class="worker-status-header">
                        <div class="worker-status-title">Worker Account Status</div>
                    </div>
                    <div id="workerStatusInfo" class="worker-status-info">
                        <div class="status-info-header">
                            <span id="statusFriendlyIcon" class="friendly-icon">🌱</span>
                            <span id="statusInfoTitle" class="info-title">New Community Member</span>
                        </div>
                        <div id="statusInfoContent" class="status-info-content">
                            This user is new to our platform and hasn't completed the verification process yet. They may be just starting their journey with GISUGO! Please exercise additional caution when considering any business arrangements.
                        </div>
                    </div>
                </div>

                <!-- Legal Disclaimer Section -->
                <div class="legal-disclaimer-section">
                    <div class="disclaimer-header">
                        <span class="disclaimer-icon">⚖️</span>
                        <span class="disclaimer-title">Legal Disclaimer & Terms</span>
                    </div>
                    <div class="disclaimer-content">
                        <p><strong>IMPORTANT:</strong> By proceeding with this hiring decision, you acknowledge and agree to the following:</p>
                        
                        <div class="disclaimer-points">
                            <div class="disclaimer-point">
                                <span class="point-number">1.</span>
                                <span class="point-text"><strong>Independent Transaction:</strong> This is a direct transaction between you (Customer) and the Worker. GISUGO acts solely as a platform facilitator.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">2.</span>
                                <span class="point-text"><strong>Liability Limitation:</strong> GISUGO is not liable for work quality, damages, injuries, or disputes arising from this transaction.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">3.</span>
                                <span class="point-text"><strong>Background Verification:</strong> Workers undergo basic verification, but you are responsible for additional due diligence.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">4.</span>
                                <span class="point-text"><strong>Payment Responsibility:</strong> You agree to pay the worker according to agreed terms. GISUGO does not guarantee payment recovery.</span>
                            </div>
                        </div>
                        
                        <div class="safety-recommendations">
                            <div class="safety-header">
                                <span class="safety-icon">🛡️</span>
                                <span class="safety-title">Safety Recommendations</span>
                            </div>
                            <ul class="safety-list">
                                <li>Review the worker's profile and ratings thoroughly</li>
                                <li>Meet in safe, public locations when possible</li>
                                <li>Verify worker's identity before work begins</li>
                                <li>Keep valuable items secure during service</li>
                                <li>Trust your instincts - cancel if something feels wrong</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
            
            <div class="hire-confirmation-footer">
                <div class="confirmation-warning">
                    <span class="final-warning-icon">⚠️</span>
                    <span class="final-warning-text">All other applicants will be rejected.</span>
                </div>
                <div class="hire-confirmation-buttons">
                    <button id="cancelHireBtn" class="cancel-hire-btn">
                        <span>Cancel</span>
                    </button>
                    <button id="confirmHireBtn" class="confirm-hire-btn">
                        <span>I Understand - Hire Worker</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Overlay -->
    <div class="confirmation-overlay" id="confirmationOverlay">
        <div class="confirmation-modal">
            <div class="confirmation-icon" id="confirmationIcon">✓</div>
            <div class="confirmation-title" id="confirmationTitle">Action Completed</div>
            <div class="confirmation-message" id="confirmationMessage">The action has been completed successfully.</div>
            <button class="confirmation-btn" id="confirmationBtn">OK</button>
        </div>
    </div>

    <!-- Previous Jobs Options Overlay -->
    <div class="listing-options-overlay" id="previousOptionsOverlay">
        <div class="listing-options-container">
            <div class="listing-options-header">
                <div class="listing-options-title" id="previousOptionsTitle">Completed Job Options</div>
                <div class="listing-options-subtitle" id="previousOptionsSubtitle">Choose an action for this completed job</div>
            </div>
            <div class="listing-options-actions" id="previousOptionsActions">
                <!-- Dynamic options based on customer/worker role -->
            </div>
        </div>
    </div>

    <!-- Leave Feedback Overlay -->
    <div class="success-overlay" id="leaveFeedbackOverlay">
        <div class="success-modal">
            <div class="success-header">
                <div class="success-title-row">
                    <div class="success-title">Leave Feedback</div>
                    <div class="success-icon">💭</div>
                </div>
                <div class="success-subtitle" id="feedbackCustomerName">Rate your experience working for the customer</div>
            </div>
            
            <div class="success-feedback-section">
                <div class="feedback-label">How was your experience with <span id="feedbackCustomerNameSpan">the customer</span>?</div>
                
                <div class="feedback-rating-section">
                    <label class="feedback-rating-label">Rating:</label>
                    <div class="feedback-stars-container" id="customerFeedbackStars">
                        <div class="feedback-star" data-rating="1">★</div>
                        <div class="feedback-star" data-rating="2">★</div>
                        <div class="feedback-star" data-rating="3">★</div>
                        <div class="feedback-star" data-rating="4">★</div>
                        <div class="feedback-star" data-rating="5">★</div>
                    </div>
                </div>
                
                <div class="feedback-text-section">
                    <label for="customerFeedback" class="feedback-text-label">Feedback (optional):</label>
                    <textarea 
                        id="customerFeedback" 
                        class="feedback-textarea" 
                        placeholder="Share your experience working for this customer..."
                        maxlength="300"
                        rows="3"></textarea>
                    <div class="feedback-char-count">
                        <span id="customerFeedbackCharCount">0</span>/300 characters
                    </div>
                </div>
            </div>
            
            <div class="success-actions">
                <button class="success-btn" id="submitCustomerFeedbackBtn">SUBMIT FEEDBACK</button>
                <button class="success-btn" id="cancelCustomerFeedbackBtn" style="background: #6b7280; margin-left: 10px;">CANCEL</button>
            </div>
        </div>
    </div>

    <!-- Report Dispute Overlay -->
    <div class="delete-confirmation-overlay" id="reportDisputeOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-title-row">
                    <div class="delete-confirmation-icon">⚠️</div>
                    <div class="delete-confirmation-title">Report Dispute</div>
                </div>
                <div class="delete-confirmation-subtitle" id="disputeJobSubtitle">Report an issue with this completed job</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    Please describe the issue you experienced with <span id="disputeCustomerName">the customer</span>. This will be reviewed by our support team.
                </div>
            </div>
            <div class="reason-input-section">
                <label for="disputeReasonInput" class="reason-label">
                    Describe the issue or dispute (required):
                </label>
                <textarea 
                    id="disputeReasonInput" 
                    class="reason-textarea" 
                    placeholder="Describe what went wrong with this job (minimum 10 characters)"
                    maxlength="500"
                    rows="4"></textarea>
                <div class="reason-char-count">
                    <span id="disputeCharCount">0</span>/500 characters
                </div>
                <div class="reason-error" id="disputeReasonError">Please enter at least 10 characters</div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="disputeCancelBtn">
                    CANCEL
                </button>
                <button class="delete-confirmation-btn delete" id="submitDisputeBtn" disabled>
                    SUBMIT REPORT
                </button>
            </div>
        </div>
    </div>

    <!-- Feedback Submitted Success Overlay -->
    <div class="success-overlay" id="feedbackSubmittedOverlay">
        <div class="success-modal">
            <div class="success-icon">✅</div>
            <div class="success-title">Feedback Submitted</div>
            <div class="success-message" id="feedbackSubmittedMessage">Thank you! Your feedback has been submitted successfully.</div>
            <button class="success-btn" id="feedbackSubmittedOkBtn">OK</button>
        </div>
    </div>

    <!-- Dispute Submitted Success Overlay -->
    <div class="success-overlay" id="disputeSubmittedOverlay">
        <div class="success-modal">
            <div class="success-icon">📋</div>
            <div class="success-title">Dispute Reported</div>
            <div class="success-message" id="disputeSubmittedMessage">Your dispute has been submitted and will be reviewed by our support team within 24-48 hours.</div>
            <button class="success-btn" id="disputeSubmittedOkBtn">UNDERSTOOD</button>
        </div>
    </div>

    <!-- Gig Offer Options Overlay -->
    <div class="listing-options-overlay" id="gigOfferOptionsOverlay">
        <div class="listing-options-container">
            <div class="listing-options-header">
                <div class="listing-options-title" id="gigOfferOptionsTitle">Gig Offer</div>
                <div class="listing-options-subtitle" id="gigOfferOptionsSubtitle">Choose an action for this job offer</div>
            </div>
            <div class="listing-options-actions">
                <button class="listing-option-btn accept" id="acceptOfferBtn">
                    ACCEPT OFFER
                </button>
                <button class="listing-option-btn reject" id="rejectOfferBtn">
                    REJECT OFFER
                </button>
                <button class="listing-option-btn contact" id="contactCustomerBtn">
                    CONTACT CUSTOMER
                </button>
                <button class="listing-option-btn cancel" id="closeOfferOptionsBtn">
                    CLOSE
                </button>
            </div>
        </div>
    </div>

    <!-- Confirm Accept Gig Overlay -->
    <div id="confirmAcceptGigOverlay" class="hire-confirmation-overlay">
        <div class="hire-confirmation-container">
            <div class="hire-confirmation-header">
                <div class="hire-confirmation-title-section">
                    <div class="hire-confirmation-icon">🤝</div>
                    <div class="hire-confirmation-title">Confirm Accept Gig Offer</div>
                </div>
                <button id="confirmAcceptGigCloseBtn" class="hire-confirmation-close-btn">&times;</button>
            </div>
            
            <div class="hire-confirmation-content">
                <!-- Customer Status Section -->
                <div class="worker-status-section">
                    <div class="worker-status-header">
                        <div class="worker-status-title">Customer Account Status</div>
                    </div>
                    <div id="customerStatusInfo" class="worker-status-info">
                        <div class="status-info-header">
                            <span id="customerStatusFriendlyIcon" class="friendly-icon">🌱</span>
                            <span id="customerStatusInfoTitle" class="info-title">New Community Member</span>
                        </div>
                        <div id="customerStatusInfoContent" class="status-info-content">
                            This customer is new to our platform and hasn't completed the verification process yet. They may be just starting their journey with GISUGO! Please exercise additional caution when considering any business arrangements.
                        </div>
                    </div>
                </div>

                <!-- Legal Disclaimer Section -->
                <div class="legal-disclaimer-section">
                    <div class="disclaimer-header">
                        <span class="disclaimer-icon">⚖️</span>
                        <span class="disclaimer-title">Legal Disclaimer & Terms</span>
                    </div>
                    <div class="disclaimer-content">
                        <p><strong>IMPORTANT:</strong> By accepting this gig offer, you acknowledge and agree to the following:</p>
                        
                        <div class="disclaimer-points">
                            <div class="disclaimer-point">
                                <span class="point-number">1.</span>
                                <span class="point-text"><strong>Independent Transaction:</strong> This is a direct transaction between you (Worker) and the Customer. GISUGO acts solely as a platform facilitator.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">2.</span>
                                <span class="point-text"><strong>Liability Limitation:</strong> GISUGO is not liable for payment disputes, work conditions, injuries, or conflicts arising from this transaction.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">3.</span>
                                <span class="point-text"><strong>Payment Terms:</strong> You are responsible for negotiating and securing payment terms directly with the customer.</span>
                            </div>
                            
                            <div class="disclaimer-point">
                                <span class="point-number">4.</span>
                                <span class="point-text"><strong>Work Quality:</strong> You agree to complete the work according to the agreed specifications and timeline.</span>
                            </div>
                        </div>
                        
                        <div class="safety-recommendations">
                            <div class="safety-header">
                                <span class="safety-icon">🛡️</span>
                                <span class="safety-title">Safety Recommendations</span>
                            </div>
                            <ul class="safety-list">
                                <li>Review the customer's profile and ratings thoroughly</li>
                                <li>Meet in safe, public locations when possible</li>
                                <li>Verify work details and payment terms before starting</li>
                                <li>Keep personal belongings secure during work</li>
                                <li>Trust your instincts - decline if something feels wrong</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
            
            <div class="hire-confirmation-footer">
                <div class="confirmation-warning">
                    <span class="final-warning-icon">✅</span>
                    <span class="final-warning-text">This will confirm your commitment to complete the job.</span>
                </div>
                <div class="hire-confirmation-buttons">
                    <button id="cancelAcceptGigBtn" class="cancel-hire-btn">
                        <span>Cancel</span>
                    </button>
                    <button id="confirmAcceptGigBtn" class="confirm-hire-btn">
                        <span>I Understand - Accept Gig</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Reject Gig Offer Confirmation Overlay -->
    <div class="delete-confirmation-overlay" id="rejectGigOfferOverlay">
        <div class="delete-confirmation-container">
            <div class="delete-confirmation-header">
                <div class="delete-confirmation-title-row">
                    <div class="delete-confirmation-icon">❌</div>
                    <div class="delete-confirmation-title">Reject Gig Offer</div>
                </div>
                <div class="delete-confirmation-subtitle" id="rejectGigOfferSubtitle">This will decline the job offer</div>
            </div>
            <div class="delete-confirmation-warning">
                <div class="delete-warning-text">
                    WARNING: Rejecting this gig offer will:<br>
                    • Notify <span id="rejectCustomerName">the customer</span> of your rejection<br>
                    • Remove this offer from your list<br>
                    • Allow the customer to consider other applicants<br><br>
                    This action cannot be undone.
                </div>
            </div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="rejectGigOfferCancelBtn">
                    KEEP OFFER
                </button>
                <button class="delete-confirmation-btn delete" id="confirmRejectGigOfferBtn">
                    YES, REJECT OFFER
                </button>
            </div>
        </div>
    </div>

    <!-- UNIFORM HEADER SYSTEM -->
    <script src="public/js/header-uniform.js?v=1.0"></script>
    <script src="public/js/shared-menu.js"></script>
    <script src="public/js/jobs.js?v=15"></script>
</body>
</html> 
