<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messages - GISUGO</title>
    <link rel="stylesheet" href="public/css/messages.css">
</head>
<body>
    <!-- Header -->
    <div class="messages-header">
        <div class="messages-header-title-container">
            <button class="messages-header-btn back" onclick="window.history.back()" aria-label="Back">
                <img src="public/icons/back.png" alt="Back">
                <span>Back</span>
            </button>
            <div class="messages-header-title" id="messagesTitle">MESSAGES</div>
            <button class="messages-header-btn menu messages-menu-btn" id="messagesMenuBtn" aria-label="Menu">
                <img src="public/icons/menu.png" alt="Menu">
                <div>Menu</div>
            </button>
        </div>
        <div class="messages-header-borderline"></div>
    </div>

    <!-- Tab Navigation -->
    <div class="messages-tabs">
                    <button class="tab-btn" data-tab="notifications" id="notificationsTab">
                Notifications
                <span class="notification-count">7</span>
            </button>
        <button class="tab-btn active" data-tab="applications" id="applicationsTab">Applications</button>
        <button class="tab-btn" data-tab="messages" id="messagesTab">Messages</button>
    </div>

    <!-- Main Content Area -->
    <div class="messages-content">
        <!-- Notifications Tab Content -->
        <div class="tab-content" id="notifications-content" style="display: none;">
            <div class="notifications-container">
                
                <!-- Critical Notification - Job Unlisted -->
                <div class="notification-item critical">
                    <div class="notification-icon critical-icon">‚ö†Ô∏è</div>
                    <div class="notification-content">
                        <div class="notification-title">Job Unlisted: Maximum Applicants Reached</div>
                        <div class="notification-message">
                            Job "House cleaning service needed - weekly basis" has been unlisted: Maximum number of applicants received (20/20). You must review and reject applicants for job to be listed again.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">2 hours ago</span>
                            <span class="notification-date">Dec. 22, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn primary">Review Applications</button>
                        </div>
                    </div>
                </div>

                <!-- New Application Notifications -->
                <div class="notification-item new-application">
                    <div class="notification-icon app-icon">üë§</div>
                    <div class="notification-content">
                        <div class="notification-title">New Job Application Received</div>
                        <div class="notification-message">
                            <strong>Miguel Torres</strong> applied for "Plumbing repair - kitchen sink leak" with a ‚Ç±800 offer.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">3 hours ago</span>
                            <span class="notification-date">Dec. 22, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">View Application</button>
                        </div>
                    </div>
                </div>

                <div class="notification-item new-application">
                    <div class="notification-icon app-icon">üë§</div>
                    <div class="notification-content">
                        <div class="notification-title">New Job Application Received</div>
                        <div class="notification-message">
                            <strong>Ana Rodriguez</strong> applied for "House cleaning service needed - weekly basis" with a ‚Ç±1,200 counter-offer.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">5 hours ago</span>
                            <span class="notification-date">Dec. 22, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">View Application</button>
                        </div>
                    </div>
                </div>

                <!-- Message Notifications -->
                <div class="notification-item message">
                    <div class="notification-icon msg-icon">üí¨</div>
                    <div class="notification-content">
                        <div class="notification-title">New Message Received</div>
                        <div class="notification-message">
                            <strong>Juan dela Cruz</strong> sent you a message: "Hello po! When can we start the carpentry work? I'm available this weekend."
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">1 day ago</span>
                            <span class="notification-date">Dec. 21, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">Reply</button>
                        </div>
                    </div>
                </div>

                <!-- Job Status Notifications -->
                <div class="notification-item job-status">
                    <div class="notification-icon status-icon">üìã</div>
                    <div class="notification-content">
                        <div class="notification-title">Job Application Limit Warning</div>
                        <div class="notification-message">
                            Job "Carpenter needed for kitchen cabinet repair and refinish" has received 15/20 applications. Consider reviewing applications soon to avoid unlisting.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">1 day ago</span>
                            <span class="notification-date">Dec. 21, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">Review Applications</button>
                        </div>
                    </div>
                </div>

                <!-- More Application Notifications -->
                <div class="notification-item new-application">
                    <div class="notification-icon app-icon">üë§</div>
                    <div class="notification-content">
                        <div class="notification-title">New Job Application Received</div>
                        <div class="notification-message">
                            <strong>Roberto Garcia</strong> applied for "Carpenter needed for kitchen cabinet repair and refinish" with a ‚Ç±2,800 counter-offer.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">2 days ago</span>
                            <span class="notification-date">Dec. 20, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">View Application</button>
                        </div>
                    </div>
                </div>

                <!-- System Notification -->
                <div class="notification-item system">
                    <div class="notification-icon system-icon">‚öôÔ∏è</div>
                    <div class="notification-content">
                        <div class="notification-title">Job Successfully Posted</div>
                        <div class="notification-message">
                            Your job "Plumbing repair - kitchen sink leak" has been successfully posted and is now visible to service providers.
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">3 days ago</span>
                            <span class="notification-date">Dec. 19, 2025</span>
                        </div>
                    </div>
                </div>

                <!-- Another Message -->
                <div class="notification-item message">
                    <div class="notification-icon msg-icon">üí¨</div>
                    <div class="notification-content">
                        <div class="notification-title">New Message Received</div>
                        <div class="notification-message">
                            <strong>Pedro Santos</strong> sent you a message: "Good morning! I can start the work tomorrow if you're available. Please let me know."
                        </div>
                        <div class="notification-meta">
                            <span class="notification-time">3 days ago</span>
                            <span class="notification-date">Dec. 19, 2025</span>
                        </div>
                        <div class="notification-actions">
                            <button class="notification-action-btn secondary">Reply</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Applications Tab Content -->
        <div class="tab-content active" id="applications-content">
            <!-- Placeholder for when no applications exist -->
            <div class="content-placeholder" id="applicationsPlaceholder" style="display: none;">
                <p>Job Applications will appear here...</p>
            </div>
            
            <div class="applications-container" id="applicationsContainer">
                <!-- Job Listing 1 -->
                <div class="job-listing">
                    <div class="job-header" data-job-id="1">
                        <div class="job-title">Home cleaning service - 3 bedroom house deep clean</div>
                        <div class="application-count">2</div>
                        <div class="expand-icon">‚ñº</div>
                    </div>
                    <div class="applications-list" id="applications-1" style="display: none;">
                        <!-- Application Card 1 -->
                        <div class="application-card" data-application-id="1" data-job-title="Home cleaning service - 3 bedroom house deep clean" data-original-price="600" data-is-counter-offer="true">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Maria Santos">Maria Santos</span>
                                <span class="price-offer" data-price-amount="550" data-price-type="Per Job" data-offer-type="counter">‚Ç±550 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-20">Dec. 20, 2025</div>
                                    <div class="application-time" data-application-time="14:45">2:45 PM</div>
                                    <div class="application-rating" data-user-rating="5">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-02.jpg" alt="Maria Santos" data-user-photo="User-02.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Hi Sir! Please hire me for this job, I have 10 years experience in professional cleaning of offices and hotels. I won't let you down! I can do the job on time and will complete it very well.">
                                <strong>MESSAGE:</strong>
                                Hi Sir! Please hire me for this job, I have 10 years experience in professional cleaning of offices and hotels. I won't let you down! I can do the job on time and will complete it very well.
                            </div>
                        </div>

                        <!-- Application Card 2 -->
                        <div class="application-card" data-application-id="2" data-job-title="Home cleaning service - 3 bedroom house deep clean" data-original-price="600" data-is-counter-offer="true">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Ana Rodriguez">Ana Rodriguez</span>
                                <span class="price-offer" data-price-amount="500" data-price-type="Per Job" data-offer-type="counter">‚Ç±500 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-17">Dec. 17, 2025</div>
                                    <div class="application-time" data-application-time="10:30">10:30 AM</div>
                                    <div class="application-rating" data-user-rating="4">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-03.jpg" alt="Ana Rodriguez" data-user-photo="User-03.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Hello po! I am ready for this job, the price offer is good for me. I can also bring more supplies because I clean hotels as my regular day job.">
                                <strong>MESSAGE:</strong>
                                Hello po! I am ready for this job, the price offer is good for me. I can also bring more supplies because I clean hotels as my regular day job.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Listing 2 -->
                <div class="job-listing">
                    <div class="job-header" data-job-id="2">
                        <div class="job-title">Carpenter needed for kitchen cabinet repair and refinish</div>
                        <div class="application-count">3</div>
                        <div class="expand-icon">‚ñº</div>
                    </div>
                    <div class="applications-list" id="applications-2" style="display: none;">
                        <!-- Application Card 1 -->
                        <div class="application-card" data-application-id="3" data-job-title="Carpenter needed for kitchen cabinet repair and refinish" data-original-price="2000" data-is-counter-offer="true">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Juan dela Cruz">Juan dela Cruz</span>
                                <span class="price-offer" data-price-amount="2500" data-price-type="Per Job" data-offer-type="counter">‚Ç±2,500 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-19">Dec. 19, 2025</div>
                                    <div class="application-time" data-application-time="16:15">4:15 PM</div>
                                    <div class="application-rating" data-user-rating="5">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-04.jpg" alt="Juan dela Cruz" data-user-photo="User-04.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Good day! I have 15 years experience in carpentry work. I can repair your kitchen cabinets and make them look like new. I have all the tools needed for the job.">
                                <strong>MESSAGE:</strong>
                                Good day! I have 15 years experience in carpentry work. I can repair your kitchen cabinets and make them look like new. I have all the tools needed for the job.
                            </div>
                        </div>

                        <!-- Application Card 2 -->
                        <div class="application-card" data-application-id="4" data-job-title="Carpenter needed for kitchen cabinet repair and refinish" data-original-price="2000" data-is-counter-offer="false">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Pedro Santos">Pedro Santos</span>
                                <span class="price-offer" data-price-amount="2000" data-price-type="Per Job" data-offer-type="original">‚Ç±2,000 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-18">Dec. 18, 2025</div>
                                    <div class="application-time" data-application-time="11:20">11:20 AM</div>
                                    <div class="application-rating" data-user-rating="4">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-05.jpg" alt="Pedro Santos" data-user-photo="User-05.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Hello sir! I can fix your kitchen cabinets. I am experienced carpenter and I work fast and clean. Very affordable price for quality work.">
                                <strong>MESSAGE:</strong>
                                Hello sir! I can fix your kitchen cabinets. I am experienced carpenter and I work fast and clean. Very affordable price for quality work.
                            </div>
                        </div>

                        <!-- Application Card 3 -->
                        <div class="application-card" data-application-id="5" data-job-title="Carpenter needed for kitchen cabinet repair and refinish" data-original-price="2000" data-is-counter-offer="true">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Roberto Garcia">Roberto Garcia</span>
                                <span class="price-offer" data-price-amount="2800" data-price-type="Per Job" data-offer-type="counter">‚Ç±2,800 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-16">Dec. 16, 2025</div>
                                    <div class="application-time" data-application-time="15:50">3:50 PM</div>
                                    <div class="application-rating" data-user-rating="5">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-06.jpg" alt="Roberto Garcia" data-user-photo="User-06.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Hi! I specialize in kitchen renovations and cabinet repair. I can provide before and after photos of my previous work. Quality guaranteed!">
                                <strong>MESSAGE:</strong>
                                Hi! I specialize in kitchen renovations and cabinet repair. I can provide before and after photos of my previous work. Quality guaranteed!
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Listing 3 -->
                <div class="job-listing">
                    <div class="job-header" data-job-id="3">
                        <div class="job-title">Plumbing repair - kitchen sink leak</div>
                        <div class="application-count">1</div>
                        <div class="expand-icon">‚ñº</div>
                    </div>
                    <div class="applications-list" id="applications-3" style="display: none;">
                        <!-- Application Card 1 -->
                        <div class="application-card" data-application-id="6" data-job-title="Plumbing repair - kitchen sink leak" data-original-price="800" data-is-counter-offer="false">
                            <div class="application-job-title">
                                <span class="applicant-name" data-user-name="Miguel Torres">Miguel Torres</span>
                                <span class="price-offer" data-price-amount="800" data-price-type="Per Job" data-offer-type="original">‚Ç±800 Per Job</span>
                            </div>
                            <div class="application-header">
                                <div class="application-left">
                                    <div class="application-date" data-application-date="2025-12-21">Dec. 21, 2025</div>
                                    <div class="application-time" data-application-time="09:15">9:15 AM</div>
                                    <div class="application-rating" data-user-rating="5">
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                        <span class="star filled">‚òÖ</span>
                                    </div>
                                </div>
                                                        <div class="applicant-photo">
                            <img src="public/users/User-07.jpg" alt="Miguel Torres" data-user-photo="User-07.jpg">
                                </div>
                            </div>
                            <div class="application-message" data-application-message="Hello! I am a licensed plumber with 8 years experience. I can fix your kitchen sink leak quickly and efficiently. I bring all necessary tools and parts.">
                                <strong>MESSAGE:</strong>
                                Hello! I am a licensed plumber with 8 years experience. I can fix your kitchen sink leak quickly and efficiently. I bring all necessary tools and parts.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Messages Tab Content -->
        <div class="tab-content" id="messages-content" style="display: none;">
            <div class="content-placeholder">
                <p>Messages content coming soon...</p>
            </div>
        </div>
    </div>

    <!-- Menu Overlay -->
    <div class="messages-menu-overlay" id="messagesMenuOverlay">
        <div class="messages-menu-items">
            <!-- Menu items dynamically generated by shared-menu.js -->
        </div>
    </div>

    <!-- Application Action Overlay -->
    <div class="application-action-overlay" id="applicationActionOverlay">
        <div class="application-action-modal">
            <div class="application-action-profile">
                <div class="action-profile-photo">
                    <img src="" alt="" id="actionProfileImage">
                </div>
                <div class="action-profile-rating" id="actionProfileRating">
                    <div class="action-stars">
                        <span class="action-star">‚òÖ</span>
                        <span class="action-star">‚òÖ</span>
                        <span class="action-star">‚òÖ</span>
                        <span class="action-star">‚òÖ</span>
                        <span class="action-star">‚òÖ</span>
                    </div>
                </div>
                <div class="action-profile-caption">View Profile</div>
            </div>
            <div class="action-divider">OR</div>
            <div class="application-action-buttons">
                <button class="hire-job-btn" id="hireJobBtn">
                    <span>HIRE</span>
                </button>
                <button class="reject-job-btn" id="rejectJobBtn">
                    <span>REJECT</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Overlay -->
    <div class="confirmation-overlay" id="confirmationOverlay">
        <div class="confirmation-modal">
            <div class="confirmation-icon" id="confirmationIcon">‚úì</div>
            <div class="confirmation-title" id="confirmationTitle">Action Completed</div>
            <div class="confirmation-message" id="confirmationMessage">The action has been completed successfully.</div>
            <button class="confirmation-btn" id="confirmationBtn">OK</button>
        </div>
    </div>

    <script src="public/js/shared-menu.js"></script>
    <script src="public/js/messages.js"></script>
</body>
</html> 